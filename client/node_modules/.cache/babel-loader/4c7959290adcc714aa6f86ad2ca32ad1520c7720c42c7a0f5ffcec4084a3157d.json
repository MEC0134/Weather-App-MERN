{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nconst PrivateRoute = ({\n  children\n}) => {\n  _s();\n  const [cookies, removeCookie] = useCookies([]);\n  const navigate = useNavigate();\n  const handleError = err => toast.error(err, {\n    position: \"bottom-right\"\n  });\n  const verifyCookie = useMemo(async () => {\n    if (!cookies.token) {\n      navigate(\"/login\");\n    }\n    const {\n      data\n    } = await axios.post(\"http://localhost:8000/private-request\", {}, {\n      withCredentials: true\n    });\n    const {\n      status\n    } = data;\n    if (!status) {\n      removeCookie(\"token\");\n      handleError(\"Please login first!\");\n      navigate(\"/login\");\n    }\n  }, [cookies, navigate, removeCookie]);\n  return children;\n};\n_s(PrivateRoute, \"4iRQeDbNhKr/JPuXniJOzcFqejc=\", false, function () {\n  return [useCookies, useNavigate];\n});\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["useMemo","useCookies","useNavigate","toast","axios","PrivateRoute","children","_s","cookies","removeCookie","navigate","handleError","err","error","position","verifyCookie","token","data","post","withCredentials","status","_c","$RefreshReg$"],"sources":["C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Weather-App - Copy/Client/src/pages/components/PrivateRoute.js"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n    const [cookies, removeCookie] = useCookies([]);\r\n    const navigate = useNavigate();\r\n\r\n    const handleError = (err) =>\r\n        toast.error(err, {\r\n            position: \"bottom-right\",\r\n        });\r\n\r\n    const verifyCookie = useMemo(async () => {\r\n        if (!cookies.token) {\r\n            navigate(\"/login\");\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            \"http://localhost:8000/private-request\",\r\n            {},\r\n            { withCredentials: true }\r\n        );\r\n\r\n        const { status } = data;\r\n\r\n        if (!status) {\r\n            removeCookie(\"token\");\r\n            handleError(\"Please login first!\");\r\n            navigate(\"/login\");\r\n        }\r\n    }, [cookies, navigate, removeCookie]);\r\n\r\n    return children;\r\n};\r\n\r\nexport default PrivateRoute;\r\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,OAAO,EAAEC,YAAY,CAAC,GAAGR,UAAU,CAAC,EAAE,CAAC;EAC9C,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,MAAMS,WAAW,GAAIC,GAAG,IACpBT,KAAK,CAACU,KAAK,CAACD,GAAG,EAAE;IACbE,QAAQ,EAAE;EACd,CAAC,CAAC;EAEN,MAAMC,YAAY,GAAGf,OAAO,CAAC,YAAY;IACrC,IAAI,CAACQ,OAAO,CAACQ,KAAK,EAAE;MAChBN,QAAQ,CAAC,QAAQ,CAAC;IACtB;IAEA,MAAM;MAAEO;IAAK,CAAC,GAAG,MAAMb,KAAK,CAACc,IAAI,CAC7B,uCAAuC,EACvC,CAAC,CAAC,EACF;MAAEC,eAAe,EAAE;IAAK,CAC5B,CAAC;IAED,MAAM;MAAEC;IAAO,CAAC,GAAGH,IAAI;IAEvB,IAAI,CAACG,MAAM,EAAE;MACTX,YAAY,CAAC,OAAO,CAAC;MACrBE,WAAW,CAAC,qBAAqB,CAAC;MAClCD,QAAQ,CAAC,QAAQ,CAAC;IACtB;EACJ,CAAC,EAAE,CAACF,OAAO,EAAEE,QAAQ,EAAED,YAAY,CAAC,CAAC;EAErC,OAAOH,QAAQ;AACnB,CAAC;AAACC,EAAA,CA9BIF,YAAY;EAAA,QACkBJ,UAAU,EACzBC,WAAW;AAAA;AAAAmB,EAAA,GAF1BhB,YAAY;AAgClB,eAAeA,YAAY;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}