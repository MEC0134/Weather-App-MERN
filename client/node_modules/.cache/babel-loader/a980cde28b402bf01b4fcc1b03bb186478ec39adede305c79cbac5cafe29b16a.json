{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{toast}from\"react-toastify\";import FormValidate from\"./components/FormValidate\";import\"./css/forms.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var navigate=useNavigate();var _useState=useState({email:\"\",username:\"\",password:\"\",confirmpassword:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setformData=_useState2[1];function handleInput(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setformData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));}var handleError=function handleError(err){return toast.error(err,{position:\"top-center\"});};var handleSuccess=function handleSuccess(msg){return toast.success(msg,{position:\"bottom-right\"});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$axios$post,data,success,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(formData.password!==formData.confirmpassword)){_context.next=5;break;}toast.error('Passwords do not match!',{position:\"top-center\"});_context.next=23;break;case 5:if(FormValidate(formData.email)){_context.next=9;break;}toast.error('Invalid email format!',{position:\"top-center\"});_context.next=22;break;case 9:_context.prev=9;_context.next=12;return axios.post(\"https://clima-g901.onrender.com/signup\",_objectSpread({},formData),{withCredentials:true});case 12:_yield$axios$post=_context.sent;data=_yield$axios$post.data;success=data.success,message=data.message;if(success){handleSuccess(message);setTimeout(function(){navigate('/login');},1000);}_context.next=22;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](9);if(!_context.t0.response.data.success){handleError(_context.t0.response.data.message);}console.log(\"Axios error:\",_context.t0);case 22:setformData(_objectSpread(_objectSpread({},formData),{},{email:\"\",username:\"\",password:\"\",confirmpassword:\"\"}));case 23:case\"end\":return _context.stop();}},_callee,null,[[9,18]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{id:\"register-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row align-items-center\",style:{height:\"85vh\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto col-8 col-md-6 col-lg-4 form-frame register-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"form-title\",children:\"Register\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,name:\"email\",className:\"form-control\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.username,name:\"username\",className:\"form-control\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:formData.password,name:\"password\",className:\"form-control\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmpassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:formData.confirmpassword,name:\"confirmpassword\",className:\"form-control\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary \",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"redirect-user\",children:[\" Already have an account?\",/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},to:\"/login\",children:\"Login\"})]})]})})]})})})});};export default Register;","map":{"version":3,"names":["React","useState","Link","useNavigate","axios","toast","FormValidate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","navigate","_useState","email","username","password","confirmpassword","_useState2","_slicedToArray","formData","setformData","handleInput","event","_event$target","target","name","value","_objectSpread","_defineProperty","handleError","err","error","position","handleSuccess","msg","success","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$post","data","message","wrap","_callee$","_context","prev","next","preventDefault","post","withCredentials","sent","setTimeout","t0","response","console","log","stop","_x","apply","arguments","children","id","className","style","height","onSubmit","htmlFor","type","onChange","required","textDecoration","to"],"sources":["C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport FormValidate from \"./components/FormValidate\";\r\nimport \"./css/forms.css\";\r\n\r\nconst Register = () => {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setformData] = useState({\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmpassword: \"\"\r\n  });\r\n\r\n  function handleInput(event) {\r\n    const { name, value } = event.target;\r\n    setformData(({\r\n      ...formData,\r\n      [name]: value\r\n    }));\r\n  }\r\n\r\n  const handleError = err =>\r\n    toast.error(err, {\r\n      position: \"top-center\"\r\n    });\r\n\r\n  const handleSuccess = msg =>\r\n    toast.success(msg, {\r\n      position: \"bottom-right\",\r\n    });\r\n\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (formData.password !== formData.confirmpassword) {\r\n      toast.error('Passwords do not match!', { position: \"top-center\" });\r\n    } else {\r\n\r\n      if (!FormValidate(formData.email)) {\r\n        toast.error('Invalid email format!', { position: \"top-center\" });\r\n      } else {\r\n        \r\n        try {\r\n\r\n          const { data } = await axios.post(\"https://clima-g901.onrender.com/signup\", { ...formData }, { withCredentials: true });\r\n  \r\n  \r\n          const { success, message } = data;\r\n  \r\n          if (success) {\r\n            handleSuccess(message);\r\n            setTimeout(() => {\r\n              navigate('/login');\r\n            }, 1000);\r\n          }\r\n  \r\n        } catch (error) {\r\n          if (!error.response.data.success) {\r\n            handleError(error.response.data.message);\r\n          }\r\n          console.log(\"Axios error:\", error);\r\n        }\r\n      }\r\n      setformData({ ...formData, email: \"\", username: \"\", password: \"\", confirmpassword: \"\" });\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div id=\"register-container\">\r\n        <div className=\"row align-items-center\" style={{ height: \"85vh\" }}>\r\n          <div className=\"mx-auto col-8 col-md-6 col-lg-4 form-frame register-form\">\r\n            <h1 className=\"form-title\">Register</h1>\r\n            <div className=\"form-group\">\r\n              <form onSubmit={handleSubmit}>\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  name=\"email\"\r\n                  className=\"form-control\"\r\n                  onChange={handleInput}\r\n                  required\r\n                />\r\n                <label htmlFor=\"username\">Username</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.username}\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  onChange={handleInput}\r\n                  required\r\n                />\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={formData.password}\r\n                  name=\"password\"\r\n                  className=\"form-control\"\r\n                  onChange={handleInput}\r\n                  required\r\n                />\r\n                <label htmlFor=\"confirmpassword\">Confirm Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={formData.confirmpassword}\r\n                  name=\"confirmpassword\"\r\n                  className=\"form-control\"\r\n                  onChange={handleInput}\r\n                  required\r\n                />\r\n                <button type=\"submit\" className=\"btn btn-primary \">Register</button>\r\n                <p className=\"redirect-user\"> Already have an account?<Link style={{ textDecoration: \"none\" }} to={\"/login\"}>Login</Link></p>\r\n              </form>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}