{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// private page\nimport React,{useEffect}from\"react\";import{useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import PrivateRoute from\"./components/PrivateRoute\";import'../css/PrivateRoutes.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserSettings=function UserSettings(){var _useParams=useParams(),username=_useParams.username;var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState({country:\"\",city:\"\",category:\"\"}),_useState4=_slicedToArray(_useState3,2),userChoice=_useState4[0],setUserChoice=_useState4[1];useEffect(function(){setUserName(username);},[username]);var handleInput=function handleInput(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserChoice(_objectSpread(_objectSpread({},userChoice),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var formData,success;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"https://clima-g901.onrender.com/home\",_objectSpread(_objectSpread({},userChoice),{},{user:username}),{withCredentials:true});case 4:formData=_context.sent;success=formData.data.success;if(success){setTimeout(function(){navigate(\"/home\");},1000);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:setUserChoice({country:\"\",city:\"\",category:\"\"});case 13:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"choice-page\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"choice-title\",children:[\"Hi \",userName]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Lets set up your app settings, please choose your location and joke category for your app.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row align-items-center\",style:{height:\"60vh\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto col-8 col-md-6 col-lg-4 form-frame\",style:{height:\"300px\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleInput,value:userChoice.country,name:\"country\",type:\"text\",placeholder:\"Country\",className:\"form-control\",required:true}),/*#__PURE__*/_jsx(\"input\",{onChange:handleInput,value:userChoice.city,name:\"city\",type:\"text\",placeholder:\"City\",className:\"form-control\",required:true}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleInput,className:\"form-control select\",value:userChoice.category,name:\"category\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Joke category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Programming\",children:\"Programming\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Misc\",children:\"Random\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dark\",children:\"Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Spooky\",children:\"Spooky\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pun\",children:\"Pun\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary choiceForm-btn\",type:\"submit\",children:\"Submit\"})]})})})]})})});};export default UserSettings;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","axios","PrivateRoute","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","UserSettings","_useParams","username","navigate","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","country","city","category","_useState4","userChoice","setUserChoice","handleInput","event","_event$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","success","wrap","_callee$","_context","prev","next","preventDefault","post","user","withCredentials","sent","data","setTimeout","t0","console","log","stop","_x","apply","arguments","children","id","className","style","height","onSubmit","onChange","type","placeholder","required","disabled"],"sources":["C:/Users/M.E.C/Desktop/WebDev/.Full-Stack Development/Clima/Client/src/pages/UserSettings.jsx"],"sourcesContent":["// private page\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport '../css/PrivateRoutes.css';\r\n\r\n\r\nconst UserSettings = () => {\r\n\r\n    const { username } = useParams();\r\n\r\n    const navigate = useNavigate();\r\n    const [userName, setUserName] = useState('');\r\n    const [userChoice, setUserChoice] = useState({\r\n        country: \"\",\r\n        city: \"\",\r\n        category: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        setUserName(username);\r\n    }, [username]);\r\n\r\n    const handleInput = (event) => {\r\n        const { name, value } = event.target;\r\n        setUserChoice(({\r\n            ...userChoice,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const formData = await axios.post(\"https://clima-g901.onrender.com/home\", { ...userChoice, user: username }, { withCredentials: true });\r\n            const { success } = formData.data;\r\n\r\n            if (success) {\r\n                setTimeout(() => {\r\n                    navigate(\"/home\");\r\n                }, 1000);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        setUserChoice({ country: \"\", city: \"\", category: \"\" });\r\n    }\r\n\r\n    return (\r\n        <PrivateRoute>\r\n            <>\r\n                <div id=\"choice-page\">\r\n                    <h4 className=\"choice-title\">Hi {userName}</h4>\r\n                    <h5>Lets set up your app settings, please choose your location and joke category for your app.</h5>\r\n                    <div className=\"row align-items-center\" style={{ height: \"60vh\" }}>\r\n                        <div className=\"mx-auto col-8 col-md-6 col-lg-4 form-frame\" style={{ height: \"300px\" }}>\r\n                            <form onSubmit={handleSubmit} >\r\n                                <input onChange={handleInput} value={userChoice.country} name=\"country\" type=\"text\" placeholder=\"Country\" className=\"form-control\" required></input>\r\n                                <input onChange={handleInput} value={userChoice.city} name=\"city\" type=\"text\" placeholder=\"City\" className=\"form-control\" required></input>\r\n                                <select onChange={handleInput} className=\"form-control select\" value={userChoice.category} name=\"category\">\r\n                                    <option value=\"\" disabled>Joke category</option>\r\n                                    <option value=\"Programming\">Programming</option>\r\n                                    <option value=\"Misc\">Random</option>\r\n                                    <option value=\"Dark\">Dark</option>\r\n                                    <option value=\"Spooky\">Spooky</option>\r\n                                    <option value=\"Pun\">Pun</option>\r\n                                </select>\r\n                                <button className=\"btn btn-primary choiceForm-btn\" type=\"submit\">Submit</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        </PrivateRoute>\r\n    )\r\n}\r\n\r\n\r\nexport default UserSettings;"],"mappings":"ywBAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,MAAO,0BAA0B,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGlC,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CAEvB,IAAAC,UAAA,CAAqBV,SAAS,CAAC,CAAC,CAAxBW,QAAQ,CAAAD,UAAA,CAARC,QAAQ,CAEhB,GAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,IAAAc,SAAA,CAAgCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAoCpB,QAAQ,CAAC,CACzCqB,OAAO,CAAE,EAAE,CACXC,IAAI,CAAE,EAAE,CACRC,QAAQ,CAAE,EACd,CAAC,CAAC,CAAAC,UAAA,CAAAP,cAAA,CAAAG,UAAA,IAJKK,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAMhCzB,SAAS,CAAC,UAAM,CACZoB,WAAW,CAACN,QAAQ,CAAC,CACzB,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,GAAM,CAAAc,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAK,CAC3B,IAAAC,aAAA,CAAwBD,KAAK,CAACE,MAAM,CAA5BC,IAAI,CAAAF,aAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,aAAA,CAALG,KAAK,CACnBN,aAAa,CAAAO,aAAA,CAAAA,aAAA,IACNR,UAAU,KAAAS,eAAA,IACZH,IAAI,CAAGC,KAAK,EACf,CAAC,CACP,CAAC,CAED,GAAM,CAAAG,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOZ,KAAK,MAAAa,QAAA,CAAAC,OAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC7BnB,KAAK,CAACoB,cAAc,CAAC,CAAC,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEI,CAAA5C,KAAK,CAAC8C,IAAI,CAAC,sCAAsC,CAAAhB,aAAA,CAAAA,aAAA,IAAOR,UAAU,MAAEyB,IAAI,CAAErC,QAAQ,GAAI,CAAEsC,eAAe,CAAE,IAAK,CAAC,CAAC,QAAjIV,QAAQ,CAAAI,QAAA,CAAAO,IAAA,CACNV,OAAO,CAAKD,QAAQ,CAACY,IAAI,CAAzBX,OAAO,CAEf,GAAIA,OAAO,CAAE,CACTY,UAAU,CAAC,UAAM,CACbxC,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC+B,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAGDW,OAAO,CAACC,GAAG,CAAAZ,QAAA,CAAAU,EAAM,CAAC,CAAC,QAEvB7B,aAAa,CAAC,CAAEL,OAAO,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAAC,yBAAAsB,QAAA,CAAAa,IAAA,MAAAlB,OAAA,gBAC1D,kBAhBK,CAAAL,YAAYA,CAAAwB,EAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAgBjB,CAED,mBACIrD,IAAA,CAACJ,YAAY,EAAA0D,QAAA,cACTtD,IAAA,CAAAE,SAAA,EAAAoD,QAAA,cACIxD,KAAA,QAAKyD,EAAE,CAAC,aAAa,CAAAD,QAAA,eACjBxD,KAAA,OAAI0D,SAAS,CAAC,cAAc,CAAAF,QAAA,EAAC,KAAG,CAAC5C,QAAQ,EAAK,CAAC,cAC/CV,IAAA,OAAAsD,QAAA,CAAI,4FAA0F,CAAI,CAAC,cACnGtD,IAAA,QAAKwD,SAAS,CAAC,wBAAwB,CAACC,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAAJ,QAAA,cAC9DtD,IAAA,QAAKwD,SAAS,CAAC,4CAA4C,CAACC,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAAAJ,QAAA,cACnFxD,KAAA,SAAM6D,QAAQ,CAAEhC,YAAa,CAAA2B,QAAA,eACzBtD,IAAA,UAAO4D,QAAQ,CAAEzC,WAAY,CAACK,KAAK,CAAEP,UAAU,CAACJ,OAAQ,CAACU,IAAI,CAAC,SAAS,CAACsC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,SAAS,CAACN,SAAS,CAAC,cAAc,CAACO,QAAQ,MAAQ,CAAC,cACpJ/D,IAAA,UAAO4D,QAAQ,CAAEzC,WAAY,CAACK,KAAK,CAAEP,UAAU,CAACH,IAAK,CAACS,IAAI,CAAC,MAAM,CAACsC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,MAAM,CAACN,SAAS,CAAC,cAAc,CAACO,QAAQ,MAAQ,CAAC,cAC3IjE,KAAA,WAAQ8D,QAAQ,CAAEzC,WAAY,CAACqC,SAAS,CAAC,qBAAqB,CAAChC,KAAK,CAAEP,UAAU,CAACF,QAAS,CAACQ,IAAI,CAAC,UAAU,CAAA+B,QAAA,eACtGtD,IAAA,WAAQwB,KAAK,CAAC,EAAE,CAACwC,QAAQ,MAAAV,QAAA,CAAC,eAAa,CAAQ,CAAC,cAChDtD,IAAA,WAAQwB,KAAK,CAAC,aAAa,CAAA8B,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChDtD,IAAA,WAAQwB,KAAK,CAAC,MAAM,CAAA8B,QAAA,CAAC,QAAM,CAAQ,CAAC,cACpCtD,IAAA,WAAQwB,KAAK,CAAC,MAAM,CAAA8B,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCtD,IAAA,WAAQwB,KAAK,CAAC,QAAQ,CAAA8B,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCtD,IAAA,WAAQwB,KAAK,CAAC,KAAK,CAAA8B,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC5B,CAAC,cACTtD,IAAA,WAAQwD,SAAS,CAAC,gCAAgC,CAACK,IAAI,CAAC,QAAQ,CAAAP,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC9E,CAAC,CACN,CAAC,CACL,CAAC,EACL,CAAC,CACR,CAAC,CACO,CAAC,CAEvB,CAAC,CAGD,cAAe,CAAAnD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}